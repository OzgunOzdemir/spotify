{"ast":null,"code":"var _jsxFileName = \"/Users/ozgunozdemir/Desktop/gitlab/spotify/src/components/Topbar/Topbar.js\";\nimport React, { Component } from 'react';\nimport './Topbar.css';\nimport { connect } from 'react-redux';\nimport { updateSearch } from '../../redux/actions/index';\nimport InputComponent from '../Ui/Input/Input.js';\nimport { getSearchByAlbums, getSearchByPlaylist } from '../../services';\n\nclass topbar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: ''\n    };\n\n    this.onChange = async e => {\n      const token = sessionStorage.getItem(\"access_token\");\n      const value = e.target.value;\n\n      if (e.target.value.length >= 3) {\n        const searchAlbums = await getSearchByAlbums(token, value);\n        const searchPlaylist = await getSearchByPlaylist(token, value);\n        const searchData = {\n          show: true,\n          albums: searchAlbums.data.albums,\n          playList: searchPlaylist.data.playlists\n        };\n        this.props.onUpdateSearch(searchData);\n      } else {\n        const searchData = {\n          show: false,\n          albums: {},\n          playList: {}\n        };\n        this.props.onUpdateSearch(searchData);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Topbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"HeaderRight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(InputComponent, {\n      type: \"text\",\n      id: \"search\",\n      name: \"search\",\n      onChange: this.onChange,\n      placeholder: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapDispatchToProps = {\n  onUpdateSearch: updateSearch\n};\nexport default connect(null, mapDispatchToProps)(topbar);","map":{"version":3,"sources":["/Users/ozgunozdemir/Desktop/gitlab/spotify/src/components/Topbar/Topbar.js"],"names":["React","Component","connect","updateSearch","InputComponent","getSearchByAlbums","getSearchByPlaylist","topbar","state","search","onChange","e","token","sessionStorage","getItem","value","target","length","searchAlbums","searchPlaylist","searchData","show","albums","data","playList","playlists","props","onUpdateSearch","render","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,cAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,2BAA7B;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,QAAuD,gBAAvD;;AAEA,MAAMC,MAAN,SAAqBN,SAArB,CAA+B;AAAA;AAAA;AAAA,SAE3BO,KAF2B,GAEnB;AACJC,MAAAA,MAAM,EAAE;AADJ,KAFmB;;AAAA,SAM3BC,QAN2B,GAMhB,MAAOC,CAAP,IAAa;AACpB,YAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAd;AACA,YAAMC,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAASD,KAAvB;;AACA,UAAIJ,CAAC,CAACK,MAAF,CAASD,KAAT,CAAeE,MAAf,IAAyB,CAA7B,EAAgC;AAC5B,cAAMC,YAAY,GAAG,MAAMb,iBAAiB,CAACO,KAAD,EAAQG,KAAR,CAA5C;AACA,cAAMI,cAAc,GAAG,MAAMb,mBAAmB,CAACM,KAAD,EAAQG,KAAR,CAAhD;AACA,cAAMK,UAAU,GAAG;AACfC,UAAAA,IAAI,EAAE,IADS;AAEfC,UAAAA,MAAM,EAAEJ,YAAY,CAACK,IAAb,CAAkBD,MAFX;AAGfE,UAAAA,QAAQ,EAAEL,cAAc,CAACI,IAAf,CAAoBE;AAHf,SAAnB;AAKA,aAAKC,KAAL,CAAWC,cAAX,CAA0BP,UAA1B;AACH,OATD,MASO;AACH,cAAMA,UAAU,GAAG;AACfC,UAAAA,IAAI,EAAE,KADS;AAEfC,UAAAA,MAAM,EAAE,EAFO;AAGfE,UAAAA,QAAQ,EAAE;AAHK,SAAnB;AAKA,aAAKE,KAAL,CAAWC,cAAX,CAA0BP,UAA1B;AACH;AACJ,KA1B0B;AAAA;;AA4B3BQ,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,IAAI,EAAC,MAArB;AAA4B,MAAA,EAAE,EAAC,QAA/B;AAAwC,MAAA,IAAI,EAAC,QAA7C;AAAsD,MAAA,QAAQ,EAAE,KAAKlB,QAArE;AAA+E,MAAA,WAAW,EAAC,QAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CADJ;AASH;;AAtC0B;;AAyC/B,MAAMmB,kBAAkB,GAAG;AACvBF,EAAAA,cAAc,EAAExB;AADO,CAA3B;AAKA,eAAeD,OAAO,CAAC,IAAD,EAAO2B,kBAAP,CAAP,CAAkCtB,MAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport './Topbar.css';\nimport { connect } from 'react-redux';\nimport { updateSearch } from '../../redux/actions/index';\nimport InputComponent from '../Ui/Input/Input.js';\nimport { getSearchByAlbums, getSearchByPlaylist } from '../../services';\n\nclass topbar extends Component {\n\n    state = {\n        search: '',\n    }\n\n    onChange = async (e) => {\n        const token = sessionStorage.getItem(\"access_token\");\n        const value = e.target.value;\n        if (e.target.value.length >= 3) {\n            const searchAlbums = await getSearchByAlbums(token, value);\n            const searchPlaylist = await getSearchByPlaylist(token, value);\n            const searchData = {\n                show: true,\n                albums: searchAlbums.data.albums,\n                playList: searchPlaylist.data.playlists\n            }\n            this.props.onUpdateSearch(searchData);\n        } else {\n            const searchData = {\n                show: false,\n                albums: {},\n                playList: {}\n            }\n            this.props.onUpdateSearch(searchData);\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"Topbar\">\n                <div className=\"Right\">\n                    <div className=\"HeaderRight\">\n                        <InputComponent type=\"text\" id=\"search\" name=\"search\" onChange={this.onChange} placeholder=\"Search\" />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    onUpdateSearch: updateSearch,\n}\n\n\nexport default connect(null, mapDispatchToProps)(topbar);"]},"metadata":{},"sourceType":"module"}